import{p as y,g as Q,r as w,ac as X,j as $,h as b,ah as H,ai as E,c as _,b as g,e as A,l as u,E as Y,a8 as F,W as Z,aj as B,s as f,ak as p,a9 as ee,$ as C,a0 as te,S as ne,ag as re,o as se}from"./index-b8299fed.js";const M=y({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component");function q(e){const r=Q("useRender");r.render=e}function ge(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const s=w(),t=w();if(X){const o=new ResizeObserver(n=>{e==null||e(n,o),n.length&&(r==="content"?t.value=n[0].contentRect:t.value=n[0].target.getBoundingClientRect())});$(()=>{o.disconnect()}),b(s,(n,a)=>{a&&(o.unobserve(H(a)),t.value=void 0),n&&o.observe(H(n))},{flush:"post"})}return{resizeRef:s,contentRect:E(t)}}const fe=(e,r)=>{const s=e.__vccOpts||e;for(const[t,o]of r)s[t]=o;return s};const ae=y({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function ie(e){return{dimensionStyles:_(()=>({height:g(e.height),maxHeight:g(e.maxHeight),maxWidth:g(e.maxWidth),minHeight:g(e.minHeight),minWidth:g(e.minWidth),width:g(e.width)}))}}function oe(e){return{aspectStyles:_(()=>{const r=Number(e.aspectRatio);return r?{paddingBottom:String(1/r*100)+"%"}:void 0})}}const D=y({aspectRatio:[String,Number],contentClass:String,inline:Boolean,...M(),...ae()},"VResponsive"),V=A()({name:"VResponsive",props:D(),setup(e,r){let{slots:s}=r;const{aspectStyles:t}=oe(e),{dimensionStyles:o}=ie(e);return q(()=>{var n;return u("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[o.value,e.style]},[u("div",{class:"v-responsive__sizer",style:t.value},null),(n=s.additional)==null?void 0:n.call(s),s.default&&u("div",{class:["v-responsive__content",e.contentClass]},[s.default()])])}),{}}}),ue=y({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),z=(e,r)=>{let{slots:s}=r;const{transition:t,disabled:o,...n}=e,{component:a=Z,...v}=typeof t=="object"?t:{};return Y(a,F(typeof t=="string"?{name:o?"":t}:v,n,{disabled:o}),s)};function le(e,r){if(!B)return;const s=r.modifiers||{},t=r.value,{handler:o,options:n}=typeof t=="object"?t:{handler:t,options:{}},a=new IntersectionObserver(function(){var S;let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=arguments.length>1?arguments[1]:void 0;const l=(S=e._observe)==null?void 0:S[r.instance.$.uid];if(!l)return;const d=v.some(R=>R.isIntersecting);o&&(!s.quiet||l.init)&&(!s.once||d||l.init)&&o(d,v,h),d&&s.once?U(e,r):l.init=!0},n);e._observe=Object(e._observe),e._observe[r.instance.$.uid]={init:!1,observer:a},a.observe(e)}function U(e,r){var t;const s=(t=e._observe)==null?void 0:t[r.instance.$.uid];s&&(s.observer.unobserve(e),delete e._observe[r.instance.$.uid])}const ce={mounted:le,unmounted:U},ve=ce,de=y({alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,...D(),...M(),...ue()},"VImg"),he=A()({name:"VImg",directives:{intersect:ve},props:de(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,r){let{emit:s,slots:t}=r;const o=f(""),n=w(),a=f(e.eager?"loading":"idle"),v=f(),h=f(),l=_(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),d=_(()=>l.value.aspect||v.value/h.value||0);b(()=>e.src,()=>{S(a.value!=="idle")}),b(d,(i,c)=>{!i&&c&&n.value&&I(n.value)}),p(()=>S());function S(i){if(!(e.eager&&i)&&!(B&&!i&&!e.eager)){if(a.value="loading",l.value.lazySrc){const c=new Image;c.src=l.value.lazySrc,I(c,null)}l.value.src&&ee(()=>{var c,m;if(s("loadstart",((c=n.value)==null?void 0:c.currentSrc)||l.value.src),(m=n.value)!=null&&m.complete){if(n.value.naturalWidth||N(),a.value==="error")return;d.value||I(n.value,null),R()}else d.value||I(n.value),O()})}}function R(){var i;O(),a.value="loaded",s("load",((i=n.value)==null?void 0:i.currentSrc)||l.value.src)}function N(){var i;a.value="error",s("error",((i=n.value)==null?void 0:i.currentSrc)||l.value.src)}function O(){const i=n.value;i&&(o.value=i.currentSrc||i.src)}let W=-1;function I(i){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const m=()=>{clearTimeout(W);const{naturalHeight:T,naturalWidth:j}=i;T||j?(v.value=j,h.value=T):!i.complete&&a.value==="loading"&&c!=null?W=window.setTimeout(m,c):(i.currentSrc.endsWith(".svg")||i.currentSrc.startsWith("data:image/svg+xml"))&&(v.value=1,h.value=1)};m()}const P=_(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),k=()=>{var m;if(!l.value.src||a.value==="idle")return null;const i=u("img",{class:["v-img__img",P.value],src:l.value.src,srcset:l.value.srcset,alt:e.alt,sizes:e.sizes,ref:n,onLoad:R,onError:N},null),c=(m=t.sources)==null?void 0:m.call(t);return u(z,{transition:e.transition,appear:!0},{default:()=>[C(c?u("picture",{class:"v-img__picture"},[c,i]):i,[[re,a.value==="loaded"]])]})},L=()=>u(z,{transition:e.transition},{default:()=>[l.value.lazySrc&&a.value!=="loaded"&&u("img",{class:["v-img__img","v-img__img--preload",P.value],src:l.value.lazySrc,alt:e.alt},null)]}),G=()=>t.placeholder?u(z,{transition:e.transition,appear:!0},{default:()=>[(a.value==="loading"||a.value==="error"&&!t.error)&&u("div",{class:"v-img__placeholder"},[t.placeholder()])]}):null,J=()=>t.error?u(z,{transition:e.transition,appear:!0},{default:()=>[a.value==="error"&&u("div",{class:"v-img__error"},[t.error()])]}):null,K=()=>e.gradient?u("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,x=f(!1);{const i=b(d,c=>{c&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{x.value=!0})}),i())})}return q(()=>{const[i]=V.filterProps(e);return C(u(V,F({class:["v-img",{"v-img--booting":!x.value},e.class],style:[{width:g(e.width==="auto"?v.value:e.width)},e.style]},i,{aspectRatio:d.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>u(ne,null,[u(k,null,null),u(L,null,null),u(K,null,null),u(G,null,null),u(J,null,null)]),default:t.default}),[[te("intersect"),{handler:S,options:e.options},null,{once:!0}]])}),{currentSrc:o,image:n,state:a,naturalWidth:v,naturalHeight:h}}});function Se(e,r){const s=w(),t=f(!1);if(B){const o=new IntersectionObserver(n=>{e==null||e(n,o),t.value=!!n.find(a=>a.isIntersecting)},r);$(()=>{o.disconnect()}),b(s,(n,a)=>{a&&(o.unobserve(a),t.value=!1),n&&o.observe(n)},{flush:"post"})}return{intersectionRef:s,isIntersecting:t}}function _e(){const e=f(!1);return se(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:_(()=>e.value?void 0:{transition:"none !important"}),isBooted:E(e)}}const ye=y({tag:{type:String,default:"div"}},"tag");export{z as M,he as V,fe as _,Se as a,q as b,ye as c,_e as d,ae as e,ie as f,M as m,ge as u};
